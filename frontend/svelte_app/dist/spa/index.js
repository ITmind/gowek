(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&l(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();function q(){}function ce(e){return e()}function te(){return Object.create(null)}function R(e){e.forEach(ce)}function fe(e){return typeof e=="function"}function Y(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let J;function ne(e,t){return J||(J=document.createElement("a")),J.href=t,e===J.href}function de(e){return Object.keys(e).length===0}function i(e,t){e.appendChild(t)}function w(e,t,n){e.insertBefore(t,n||null)}function k(e){e.parentNode&&e.parentNode.removeChild(e)}function pe(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function p(e){return document.createElement(e)}function A(e){return document.createTextNode(e)}function C(){return A(" ")}function _e(){return A("")}function D(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function c(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function he(e){return Array.from(e.childNodes)}function U(e,t){t=""+t,e.data!==t&&(e.data=t)}function M(e,t){e.value=t??""}let z;function B(e){z=e}function me(){if(!z)throw new Error("Function called outside component initialization");return z}function ve(e){me().$$.on_mount.push(e)}const I=[],le=[];let F=[];const oe=[],ge=Promise.resolve();let X=!1;function ye(){X||(X=!0,ge.then(ae))}function G(e){F.push(e)}const V=new Set;let T=0;function ae(){if(T!==0)return;const e=z;do{try{for(;T<I.length;){const t=I[T];T++,B(t),be(t.$$)}}catch(t){throw I.length=0,T=0,t}for(B(null),I.length=0,T=0;le.length;)le.pop()();for(let t=0;t<F.length;t+=1){const n=F[t];V.has(n)||(V.add(n),n())}F.length=0}while(I.length);for(;oe.length;)oe.pop()();X=!1,V.clear(),B(e)}function be(e){if(e.fragment!==null){e.update(),R(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(G)}}function $e(e){const t=[],n=[];F.forEach(l=>e.indexOf(l)===-1?t.push(l):n.push(l)),n.forEach(l=>l()),F=t}const K=new Set;let ke;function H(e,t){e&&e.i&&(K.delete(e),e.i(t))}function re(e,t,n,l){if(e&&e.o){if(K.has(e))return;K.add(e),ke.c.push(()=>{K.delete(e),l&&(n&&e.d(1),l())}),e.o(t)}else l&&l()}const we=["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"];[...we];function se(e){e&&e.c()}function Q(e,t,n,l){const{fragment:o,after_update:r}=e.$$;o&&o.m(t,n),l||G(()=>{const s=e.$$.on_mount.map(ce).filter(fe);e.$$.on_destroy?e.$$.on_destroy.push(...s):R(s),e.$$.on_mount=[]}),r.forEach(G)}function W(e,t){const n=e.$$;n.fragment!==null&&($e(n.after_update),R(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Ce(e,t){e.$$.dirty[0]===-1&&(I.push(e),ye(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Z(e,t,n,l,o,r,s,_=[-1]){const f=z;B(e);const u=e.$$={fragment:null,ctx:[],props:r,update:q,not_equal:o,bound:te(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(f?f.$$.context:[])),callbacks:te(),dirty:_,skip_bound:!1,root:t.target||f.$$.root};s&&s(u.root);let g=!1;if(u.ctx=n?n(e,t.props||{},(h,S,...b)=>{const a=b.length?b[0]:S;return u.ctx&&o(u.ctx[h],u.ctx[h]=a)&&(!u.skip_bound&&u.bound[h]&&u.bound[h](a),g&&Ce(e,h)),S}):[],u.update(),g=!0,R(u.before_update),u.fragment=l?l(u.ctx):!1,t.target){if(t.hydrate){const h=he(t.target);u.fragment&&u.fragment.l(h),h.forEach(k)}else u.fragment&&u.fragment.c();t.intro&&H(e.$$.fragment),Q(e,t.target,t.anchor,t.customElement),ae()}B(f)}class x{$destroy(){W(this,1),this.$destroy=q}$on(t,n){if(!fe(n))return q;const l=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return l.push(n),()=>{const o=l.indexOf(n);o!==-1&&l.splice(o,1)}}$set(t){this.$$set&&!de(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Ee="/assets/spa/svelte.svg",Se="/assets/spa/django.svg";function je(e){let t,n,l,o,r;return{c(){t=p("button"),n=A("count is "),l=A(e[0])},m(s,_){w(s,t,_),i(t,n),i(t,l),o||(r=D(t,"click",e[1]),o=!0)},p(s,[_]){_&1&&U(l,s[0])},i:q,o:q,d(s){s&&k(t),o=!1,r()}}}function Ne(e,t,n){let l=0;return[l,()=>{n(0,l+=1)}]}class Oe extends x{constructor(t){super(),Z(this,t,Ne,je,Y,{})}}function ie(e,t,n){const l=e.slice();return l[11]=t[n],l[12]=t,l[13]=n,l}function Le(e){let t,n=e[11].date+"",l,o,r,s=e[11].title+"",_;return{c(){t=p("td"),l=A(n),o=C(),r=p("td"),_=A(s),c(t,"class","svelte-pov3r3"),c(r,"class","svelte-pov3r3")},m(f,u){w(f,t,u),i(t,l),w(f,o,u),w(f,r,u),i(r,_)},p(f,u){u&1&&n!==(n=f[11].date+"")&&U(l,n),u&1&&s!==(s=f[11].title+"")&&U(_,s)},d(f){f&&k(t),f&&k(o),f&&k(r)}}}function qe(e){let t,n,l,o,r,s,_;function f(){e[5].call(n,e[12],e[13])}function u(){e[6].call(r,e[12],e[13])}return{c(){t=p("td"),n=p("input"),l=C(),o=p("td"),r=p("input"),c(n,"class","editable svelte-pov3r3"),c(n,"type","date"),c(t,"class","svelte-pov3r3"),c(r,"class","editable svelte-pov3r3"),c(o,"class","svelte-pov3r3")},m(g,h){w(g,t,h),i(t,n),M(n,e[11].date),w(g,l,h),w(g,o,h),i(o,r),M(r,e[11].title),s||(_=[D(n,"input",f),D(r,"input",u)],s=!0)},p(g,h){e=g,h&1&&M(n,e[11].date),h&1&&r.value!==e[11].title&&M(r,e[11].title)},d(g){g&&k(t),g&&k(l),g&&k(o),s=!1,R(_)}}}function ue(e){let t,n,l,o,r,s,_,f,u,g,h,S;function b(y,v){return y[11].edit?qe:Le}let a=b(e),d=a(e);function L(...y){return e[7](e[11],...y)}function N(...y){return e[8](e[11],...y)}return{c(){t=p("tr"),d.c(),n=C(),l=p("td"),o=p("button"),o.textContent="Edit",r=C(),s=p("td"),_=p("a"),f=A("Details"),g=C(),c(l,"class","svelte-pov3r3"),c(_,"href",u="notes/"+e[11].slug+"/"),c(s,"class","svelte-pov3r3"),c(t,"class","svelte-pov3r3")},m(y,v){w(y,t,v),d.m(t,null),i(t,n),i(t,l),i(l,o),i(t,r),i(t,s),i(s,_),i(_,f),i(t,g),h||(S=[D(o,"click",L),D(t,"click",N)],h=!0)},p(y,v){e=y,a===(a=b(e))&&d?d.p(e,v):(d.d(1),d=a(e),d&&(d.c(),d.m(t,n))),v&1&&u!==(u="notes/"+e[11].slug+"/")&&c(_,"href",u)},d(y){y&&k(t),d.d(),h=!1,R(S)}}}function Ae(e){let t,n=e[1].note+"",l;return{c(){t=p("div"),l=A(n),c(t,"class","note noteditable svelte-pov3r3")},m(o,r){w(o,t,r),i(t,l)},p(o,r){r&2&&n!==(n=o[1].note+"")&&U(l,n)},d(o){o&&k(t)}}}function Pe(e){let t,n,l;return{c(){t=p("input"),c(t,"class","note editable svelte-pov3r3")},m(o,r){w(o,t,r),M(t,e[1].note),n||(l=D(t,"input",e[9]),n=!0)},p(o,r){r&2&&t.value!==o[1].note&&M(t,o[1].note)},d(o){o&&k(t),n=!1,l()}}}function De(e){let t,n,l,o,r,s,_,f,u,g,h,S,b,a,d,L,N,y=e[0],v=[];for(let m=0;m<y.length;m+=1)v[m]=ue(ie(e,y,m));function P(m,O){return m[1].edit?Pe:Ae}let E=P(e),j=E(e);return{c(){t=p("h3"),t.textContent="Заметки",n=C(),l=p("table"),o=p("thead"),r=p("tr"),s=p("th"),s.textContent="Дата",_=C(),f=p("th"),f.textContent="Название",u=C(),g=p("th"),h=p("button"),h.textContent="Добавить",S=C(),b=p("tbody");for(let m=0;m<v.length;m+=1)v[m].c();a=C(),j.c(),d=_e(),c(h,"class","btnadd svelte-pov3r3"),c(g,"colspan","2"),c(o,"class","svelte-pov3r3"),c(b,"class","svelte-pov3r3"),c(l,"class","svelte-pov3r3")},m(m,O){w(m,t,O),w(m,n,O),w(m,l,O),i(l,o),i(o,r),i(r,s),i(r,_),i(r,f),i(r,u),i(r,g),i(g,h),i(l,S),i(l,b);for(let $=0;$<v.length;$+=1)v[$]&&v[$].m(b,null);w(m,a,O),j.m(m,O),w(m,d,O),L||(N=D(h,"click",e[4]),L=!0)},p(m,[O]){if(O&13){y=m[0];let $;for($=0;$<y.length;$+=1){const ee=ie(m,y,$);v[$]?v[$].p(ee,O):(v[$]=ue(ee),v[$].c(),v[$].m(b,null))}for(;$<v.length;$+=1)v[$].d(1);v.length=y.length}E===(E=P(m))&&j?j.p(m,O):(j.d(1),j=E(m),j&&(j.c(),j.m(d.parentNode,d)))},i:q,o:q,d(m){m&&k(t),m&&k(n),m&&k(l),pe(v,m),m&&k(a),j.d(m),m&&k(d),L=!1,N()}}}function Te(e){let t=null;if(document.cookie&&document.cookie!==""){const n=document.cookie.split(";");for(let l=0;l<n.length;l++){const o=n[l].trim();if(o.substring(0,e.length+1)===e+"="){t=decodeURIComponent(o.substring(e.length+1));break}}}return t}function Ie(e){e.edit=!1;var t=Te("csrftoken");fetch("/save",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8","X-CSRFToken":t},body:JSON.stringify(e),credentials:"include"}).then(()=>console.log("save success"))}function Me(e,t,n){let l=[...Array(3).keys()].map(()=>({date:"",title:""})),o={note:""};ve(r);async function r(){let a=await fetch("/notes");n(0,l=await a.json()),l.map(d=>d.edit=!1)}function s(a){o!==a&&(l.map(d=>Ie(d)),n(1,o=a),n(0,l))}function _(a,d){d.edit=!0,n(1,o=d),n(0,l),a.stopPropagation()}function f(){l.push({date:new Date().toISOString().slice(0,10),title:"новая заметка"}),n(0,l)}function u(a,d){a[d].date=this.value,n(0,l)}function g(a,d){a[d].title=this.value,n(0,l)}const h=(a,d)=>_(d,a),S=(a,d)=>s(a);function b(){o.note=this.value,n(1,o)}return[l,o,s,_,f,u,g,h,S,b]}class Fe extends x{constructor(t){super(),Z(this,t,Me,De,Y,{})}}function Re(e){let t,n,l,o,r,s,_,f,u,g,h,S,b,a,d,L,N,y,v,P;return a=new Fe({}),N=new Oe({}),{c(){t=p("main"),n=p("div"),l=p("a"),o=p("img"),s=C(),_=p("a"),f=p("img"),g=C(),h=p("h1"),h.textContent="Django + Svelte",S=C(),b=p("div"),se(a.$$.fragment),d=C(),L=p("div"),se(N.$$.fragment),y=C(),v=p("p"),v.textContent="Click on the Django and Svelte logos to learn more",ne(o.src,r=Se)||c(o,"src",r),c(o,"class","logo svelte-11cv5lq"),c(o,"alt","Django Logo"),c(l,"href","https://www.djangoproject.com"),c(l,"target","_blank"),c(l,"rel","noreferrer"),ne(f.src,u=Ee)||c(f,"src",u),c(f,"class","logo svelte svelte-11cv5lq"),c(f,"alt","Svelte Logo"),c(_,"href","https://svelte.dev"),c(_,"target","_blank"),c(_,"rel","noreferrer"),c(b,"class","notes"),c(L,"class","card"),c(v,"class","read-the-docs svelte-11cv5lq")},m(E,j){w(E,t,j),i(t,n),i(n,l),i(l,o),i(n,s),i(n,_),i(_,f),i(t,g),i(t,h),i(t,S),i(t,b),Q(a,b,null),i(t,d),i(t,L),Q(N,L,null),i(t,y),i(t,v),P=!0},p:q,i(E){P||(H(a.$$.fragment,E),H(N.$$.fragment,E),P=!0)},o(E){re(a.$$.fragment,E),re(N.$$.fragment,E),P=!1},d(E){E&&k(t),W(a),W(N)}}}class Be extends x{constructor(t){super(),Z(this,t,null,Re,Y,{})}}new Be({target:document.getElementById("app")});
